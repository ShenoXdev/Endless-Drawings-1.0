<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Animate Editor</title>
<style>
  body { margin:0; font-family: sans-serif; display:flex; flex-direction:column; height:100vh; background:#1c001f; color:white; }
  header { background:#330044; color:#fff; padding:5px 10px; display:flex; align-items:center; justify-content:space-between; }
  #logo { display:flex; align-items:center; }
  #logo svg { height:40px; width:auto; }
  header button { background:#550088; color:white; border:none; padding:5px 10px; cursor:pointer; margin-left:5px; border-radius:4px; }
  #menu { display:none; flex-direction:column; background:#440077; color:white; padding:10px; position:absolute; top:50px; left:10px; z-index:100; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,0.5); }
  #menu button { margin:5px 0; background:#6600aa; border:none; color:white; padding:5px; cursor:pointer; border-radius:4px; }
  #editor { flex:1; display:flex; overflow:hidden; }
  #tools { background:#220033; width:60px; display:flex; flex-direction:column; padding:5px; }
  #tools button { margin:5px 0; padding:5px; cursor:pointer; border-radius:4px; background:#550088; color:white; border:none; }
  #canvas-container { flex:1; position:relative; overflow:hidden; background:white; }
  canvas { border:1px solid #ccc; position:absolute; top:0; left:0; }
  .popup { position:absolute; background:#330044; padding:10px; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,0.7); display:none; z-index:200; }
  .zoom-controls { position:absolute; top:10px; right:10px; display:flex; flex-direction:column; }
  .zoom-controls button { margin:2px 0; border:none; border-radius:4px; padding:5px; background:#550088; color:white; cursor:pointer; }
</style>
</head>
<body>
<header>
  <div id="logo">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 206.276 109">
      <g fill="#cd00e3" stroke="#e846ff" stroke-width="1">
        <rect width="30" height="109" rx="5" stroke="none"/>
      </g>
    </svg>
  </div>
  <button id="menuToggle">‚ò∞ ŸÇÿßÿ¶ŸÖÿ©</button>
</header>
<div id="menu">
  <button data-action="brush">üñåÔ∏è Brush</button>
  <button data-action="eraser">üßΩ Eraser</button>
  <button data-action="line">üìè Line</button>
  <button data-action="circle">‚ö™ Circle</button>
  <button data-action="select">üñ±Ô∏è Select</button>
  <button data-action="save">üíæ Save JSON</button>
  <button data-action="load">üìÇ Load JSON</button>
</div>
<div id="editor">
  <div id="tools"></div>
  <div id="canvas-container">
    <canvas id="mainCanvas" width="800" height="600"></canvas>
    <div class="zoom-controls">
      <button id="zoomIn">+</button>
      <button id="zoomOut">-</button>
      <button id="resetZoom">Reset</button>
    </div>
  </div>
</div>
<div id="popup" class="popup"></div>
<script>
  const menuToggle = document.getElementById('menuToggle');
  const menu = document.getElementById('menu');
  const popup = document.getElementById('popup');
  let currentTool = 'brush';
  let drawing = false;
  let scale = 1;

  menuToggle.onclick = () => { menu.style.display = menu.style.display==='flex'?'none':'flex'; };

  document.querySelectorAll('#menu button').forEach(btn=>{
    btn.onclick = ()=>{
      const action = btn.dataset.action;
      if(['brush','eraser','line','circle','select'].includes(action)){
        currentTool = action;
        showPopup('ÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ£ÿØÿßÿ©: '+action);
      } else if(action==='save'){
        showPopup('ÿ™ŸÖ ÿßŸÑÿ≠ŸÅÿ∏ (placeholder)');
      } else if(action==='load'){
        showPopup('ÿ™ŸÖ ÿßŸÑŸÅÿ™ÿ≠ (placeholder)');
      }
    };
  });

  function showPopup(msg){
    popup.innerText = msg;
    popup.style.display='block';
    popup.style.top='60px';
    popup.style.left='50px';
    setTimeout(()=>{popup.style.display='none';},2000);
  }

  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');
  const rect = canvas.getBoundingClientRect();

  canvas.onmousedown = e=>{
    drawing=true;
    const x = (e.offsetX)/scale;
    const y = (e.offsetY)/scale;
    ctx.beginPath();
    ctx.moveTo(x,y);
  };

  canvas.onmousemove = e=>{
    if(!drawing) return;
    const x = Math.min(Math.max(e.offsetX/scale,0),canvas.width);
    const y = Math.min(Math.max(e.offsetY/scale,0),canvas.height);
    if(currentTool==='brush'){
      ctx.lineTo(x,y);
      ctx.strokeStyle='#000';
      ctx.lineWidth=2;
      ctx.stroke();
    } else if(currentTool==='eraser'){
      ctx.clearRect(x-5,y-5,10,10);
    }
  };

  canvas.onmouseup = ()=>{drawing=false; ctx.closePath();};

  document.getElementById('zoomIn').onclick = ()=>{ scale*=1.1; canvas.style.transform='scale('+scale+')'; };
  document.getElementById('zoomOut').onclick = ()=>{ scale/=1.1; canvas.style.transform='scale('+scale+')'; };
  document.getElementById('resetZoom').onclick = ()=>{ scale=1; canvas.style.transform='scale(1)'; };
</script>
</body>
</html>
